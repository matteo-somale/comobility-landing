---
import Logo from "@/components/Logo.astro";
import ImageMod from "@/components/ImageMod.astro";
import Social from "@/components/Social.astro";
import config from "@/config/config.json";
import social from "@/config/social.json";
import {
  getLangFromUrl,
  getTranslations,
  slugSelector,
} from "@/lib/utils/languageParser";
import { markdownify } from "@/lib/utils/textConverter";
import type { ContentEntryMap } from "astro:content";

const lang = getLangFromUrl(Astro.url);
const menu = await getTranslations(lang as keyof ContentEntryMap);
let footer: any = [];
if (menu) {
  footer = menu.footer;
}
---

<footer class="bg-light">
  <div class="container">
    <div class="row items-center py-10">
      <div class="mb-8 text-center lg:col-3 lg:mb-0 lg:text-left">
        <Logo />
      </div>
      <div class="mb-8 text-center lg:col-6 lg:mb-0">
        <!-- rimando a page del sito -->
        <!-- <ul>
          {
            footer.map((menu: any) => (
              <li class="m-3 inline-block">
                <a href={slugSelector(menu.url, lang)}>{menu.name}</a>
              </li>
            ))
          }
        </ul> -->
        <ul>
          {
            footer.map((menu: any) => (
              <li class="m-3 inline-block">
                <a href={menu.url} target="_blank">
                  {menu.name}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
      <!-- <div class="mb-8 text-center lg:col-3 lg:mb-0 lg:mt-0 lg:text-right">
        <Social source={social.main} className="social-icons" />
      </div> -->
    </div>
  </div>
  <div class="border-t border-border py-7">
    <div class="container text-center text-text-light">
      <div class="flex justify-center my-6">
        <ImageMod
          src="/images/interreg-logo-alcotra-ita-fra.png"
          height={480}
          width={400}
          alt="banner"
          format="webp"
        />
      </div>
      <!-- <p set:html={markdownify(config.params.copyright)} /> -->
    </div>
  </div>
</footer>
